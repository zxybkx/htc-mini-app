#### 项目框架

* [uni-app](https://uniapp.dcloud.io/)
* 特性
  * 页面文件遵循 [Vue 单文件组件 (SFC) 规范](https://vue-loader.vuejs.org/zh/spec.html)
  * 组件标签靠近小程序规范，详见[uni-app 组件规范](https://uniapp.dcloud.io/component/README)
  * 接口能力（JS API）靠近微信小程序规范，但需将前缀 wx 替换为 uni，详见[uni-app接口规范](https://uniapp.dcloud.io/api/README)
  * 数据绑定及事件处理同 Vue.js 规范，同时补充了App及页面的生命周期
  * 为兼容多端运行，建议使用flex布局进行开发
* 安装依赖

        cd htc-uniapp
        npm install
    ***sass-loader": "^10.1.1 使用这个版本***
* 实时编译

        npm run dev:mp-alipay //支付宝小程序开发编译
        npm run build:mp-alipay /支付宝小程序生产编译
* 导入项目
  
  编译完成选择项目根目录dist下对应目录导入小程序开发工具即可

#### 样式（css） 
* 使用scss编写
  
        <style lang="scss">
            ***
        </style>
* 使用flex布局

#### 视图层(UI)
* 使用[uni-app 原生组件和扩展组件(uni ui)](https://uniapp.dcloud.io/component/README)
* 使用\<div\>和\<view>标签是等价的

#### 业务逻辑（js）
* 代码规范
  * 驼峰命名法
  * UI组件使用(camel-case)格式
  * 接口方法以**Api**为前缀
  
    ` import {ApiGetCompanys} from '../api/index'`
  * 页面内点击调用方法以**handle**为前缀
  
        methods: {
            handleSelect(){
                ***
            }
        }

  * 被点击方法内部调用方法以**sub**为前缀

        methods: {
            handleSelect(){
                this.subTest
            },
            subTest(){
                ***
            }
        }
  * 异步请求使用 **async await**
  * 全局共享数据
      
        使用小程序框架本地全局对象 globalData(如果业务复杂可以使用vuex状态管理器(已经集成入项目))
        globalData: {
          currentConmpanyInfo: {},//当前登录用户所在企业下的详细信息
          currentInvoiceInfo:{},//页面跳转时UI展示经过格式化后的信息 ===>格式方法在/utils/formatInvObj.js文件中
          currentInvoiceAllInfo:{},//页面逻辑跳转时发票的所有信息
          uploadRecord:'',//是否强制上传档案
          tipInvoiceUser:'', //是否提示发票持有人信息,
          loginInfo:{},//登录成功返回的信息
        },

* 业务功能
  * 免密登录
    * 初次登录通过code将换取openId绑定与用户信息
    * 再次登录通过code获取用户信息密码和账户进行自动化登录进入公司选取页
  * （上传档案、提示发票持有人信息）值集的获取 
  * 扫发票（增值税）
    * 扫描发票二维码进入逻辑判断
      - 已采集并绑定了用户则提示信息
      - 未采集或未绑定用户则进入扫描详情页
    * 上传发票
      - 未采集则查验发票==>上传 
      - 未绑定用户则绑定用户 
    * 上传档案
    * 采集结果页   
  * 拍发票（所有票据）
    * 拍发票识别进入列表页 
    * 增值税发票走扫发票逻辑
    * 非增值税
      - 添加入票据池
    * 发票详情==>发票编辑==>编辑成功==>拍发票识别列表页
    * 发票上传结果采集页
  * 导入电子票（增值税）
    * 获取微信电子发票（列表）==>走扫发票上传逻辑 
  * 导入ofd文件（增值税）
    * 导入ofd文件识别 ==>走扫发票上传逻辑
  * 我的发票
    
    - 用户退出登录==>登录页面
    - 获取当前用户下所有发票(列表)==>发票详情
#### 文件结构

    项目文件及说明
    ├── dist------------------------------------------------ 项目编译生成的文件夹
    ├── src
    |    |——api--------------------------------------------- 接口文件夹
    |        |——config-------------------------------------- 域名配置
    |        |——index--------------------------------------- 所有接口输出
    |        |——url----------------------------------------- 所有请求方式封装
    |    |——common------------------------------------------ 通用UI组件
    |         |——invoiceCard-------------------------------- 发票列表卡片Ui
    |         |——userCard----------------------------------- 用户信息卡片Ui
    |    |——components-------------------------------------- 组件Ui
    |         |——commonInvoiceUi---------------------------- 除增值税发票详情Ui
    |         |——invoiceUi---------------------------------- 增值税发票详情Ui
    |         |——navSectionUi------------------------------- 各功能入口页面UI
    |    |——mixins------------------------------------------ 各个值集配置文件夹
    |         |——tipInvoiceUser----------------------------- 发票持有人信息提示值集
    |         |——uploadRecord------------------------------- 强制上传档案值集
    |    |——pages------------------------------------------- 页面文件夹
    |         |——edit-photo-detail-------------------------- 编辑拍发票详情
    |         |——excessive---------------------------------- 项目加载过度页
    |         |——import-invoice----------------------------- 导入电子票入口页
    |         |——import-invoice-list------------------------ 导入电子票列表
    |         |——import-ofd--------------------------------- 导入ofd文件入口页
    |         |——index-------------------------------------- 项目首页
    |         |——invoice-collect-result--------------------- 扫发票采集结果页
    |         |——login-------------------------------------- 登录页
    |         |——my-invoice-list---------------------------- 我的发票列表
    |         |——other-photo-invoice-detail----------------- 拍发票除增值税详情
    |         |——other-photo-invoice-detail-edit------------ 拍发票除增值税详情编辑
    |         |——photo-invoice------------------------------ 拍发票入口
    |         |——photo-invoice-detail----------------------- 拍发票增值税详情
    |         |——photo-invoice-list------------------------- 拍发票识别列表页
    |         |——photo-invoice-result----------------------- 拍发票上传采集结果页
    |         |——scan-invoice------------------------------- 扫发票入口页
    |         |——scani-invoice-detail----------------------- 扫发票识别详情页
    |         |——select-company----------------------------- 切换公司页
    |         |——view-record---------------------------------增值税详情页
    |    |——static------------------------------------------ 静态资源页面
    |    |——store------------------------------------------- Vuex状态管理库(未使用)
    |    ├─uni_modules-------------------------------------- 存放[uni_module](/uni_modules)规范的插件。
    |    |——utils
    |         |——constant----------------------------------- 常量
    |         |——formatInvObj------------------------------- 获取发票接口数据格式化方法
    |         |——formatPhotoInvoice------------------------- 处理拍发票多种票据方法
    |         |——decrypt------------------------------------ 登录密码加密
    |         |——jsencrypt---------------------------------- 登录密码加密
    |         |——util--------------------------------------- 小程序请求 Promise化封装
    |    |——main.js----------------------------------------- Vue初始化入口文件
    |    |——App.vue----------------------------------------- 应用配置，用来配置App全局样式以及监听 应用生命周期
    |    |——manifest.json----------------------------------- 配置应用名称、appid、logo、版本等打包信息
    |    |——package.json------------------------------------ 配置页面路由、导航条、选项卡等页面类信息
    ├── package.json--------------------------------------- 项目配置页
    ├── README.md------------------------------------------ 项目文档





   
     